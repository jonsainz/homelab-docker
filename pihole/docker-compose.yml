services:
  pihole:
    container_name: pihole
    image: pihole/pihole:latest
    labels:
      - "com.centurylinklabs.watchtower.enable=false"
    ports:
      - "53:53/tcp"
      - "53:53/udp"
      - "${PIHOLE_PORT}:80/tcp"  # puerto del web admin desde .env
    environment:
      - TZ=Europe/Madrid
      - WEBPASSWORD=${PIHOLE_PASSWORD}   # contrase√±a desde .env
      - PIHOLE_DNS_=${PIHOLE_DNS1};${PIHOLE_DNS2}
      - DNSMASQ_LISTENING=all
    volumes:
      - ${PIHOLE_ETC}:/etc/pihole
      - ${PIHOLE_DNSMASQ}:/etc/dnsmasq.d
    restart: unless-stopped
